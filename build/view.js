import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(n={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store,withScope:()=>e.withScope},l={},t.d(l,n),l),{state:r,actions:i,callbacks:s}=(0,o.store)("create-block",{state:{timer:null},actions:{reset:()=>{const e=(0,o.getContext)(),{ref:t}=(0,o.getElement)(),{requestAnimationFrame:r,requestIdleCallback:i}=window,n=document.querySelector(e.offsetSelector);n&&(e.offsetHeight=`${n.getBoundingClientRect().height}px`,e.offsetTop=n.getBoundingClientRect().height),t.dataset.ready=!0,i((0,o.withScope)((()=>{e.max=t.getBoundingClientRect().height-e.offsetTop,e.stopAt=t.getBoundingClientRect().height+e.offsetTop,s.bodyScrolled()})))}},callbacks:{resize:e=>{r.timer&&clearTimeout(r.timer),console.log(r.timer,"trigger-resize"),r.timer=setTimeout((0,o.withScope)((()=>{i.reset()})),30,e)},bodyScrolled:()=>{const{scrollY:e}=window,t=(0,o.getContext)();if(e>t.stopAt)return;t.value=e<t.offsetTop?0:e-t.offsetTop;const r=(100*t.value/t.max).toFixed();t.progress=r<100?r:100,t.label=`${t.progress}%`}}});var n,l;